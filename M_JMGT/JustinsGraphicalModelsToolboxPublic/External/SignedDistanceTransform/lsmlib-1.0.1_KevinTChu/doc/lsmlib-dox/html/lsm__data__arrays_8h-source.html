<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LSMLIB: lsm_data_arrays.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>lsm_data_arrays.h</h1><a href="lsm__data__arrays_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment"> * File:        lsm_data_arrays.h</span>
00003 <span class="comment"> * Copyrights:  (c) 2005 The Trustees of Princeton University and Board of</span>
00004 <span class="comment"> *                  Regents of the University of Texas.  All rights reserved.</span>
00005 <span class="comment"> *              (c) 2009 Kevin T. Chu.  All rights reserved.</span>
00006 <span class="comment"> * Revision:    $Revision: 155 $</span>
00007 <span class="comment"> * Modified:    $Date: 2009-02-11 15:48:28 -0800 (Wed, 11 Feb 2009) $</span>
00008 <span class="comment"> * Description: Header file for LSM_DataArrays data structure and functions</span>
00009 <span class="comment"> *              that support serial LSMLIB calculations</span>
00010 <span class="comment"> */</span>
00011 
00012 <span class="preprocessor">#ifndef included_lsm_data_arrays_h</span>
00013 <span class="preprocessor"></span><span class="preprocessor">#define included_lsm_data_arrays_h</span>
00014 <span class="preprocessor"></span>
00015 <span class="preprocessor">#include "LSMLIB_config.h"</span>
00016 
00017 <span class="preprocessor">#ifdef __cplusplus</span>
00018 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00019 <span class="preprocessor">#endif</span>
00020 <span class="preprocessor"></span>
00021 
00030 <span class="preprocessor">#include "<a class="code" href="lsm__grid_8h.html">lsm_grid.h</a>"</span>
00031 <span class="preprocessor">#include "<a class="code" href="lsm__file_8h.html">lsm_file.h</a>"</span>
00032 
<a name="l00037"></a><a class="code" href="struct__LSM__DataArrays.html">00037</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__LSM__DataArrays.html">_LSM_DataArrays</a>
00038 {
00039   <span class="comment">/* level set function at different time integration steps*/</span>
<a name="l00040"></a><a class="code" href="struct__LSM__DataArrays.html#o2">00040</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o0">phi</a>, *<a class="code" href="struct__LSM__DataArrays.html#o1">phi_stage1</a>, *<a class="code" href="struct__LSM__DataArrays.html#o2">phi_stage2</a>, *<a class="code" href="struct__LSM__DataArrays.html#o3">phi_next</a>;
00041   
00042   <span class="comment">/* extra storage in reinitialization */</span>
<a name="l00043"></a><a class="code" href="struct__LSM__DataArrays.html#o4">00043</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o4">phi0</a>;      
00044 
00045   <span class="comment">/* extra storage for previous step functions */</span>
<a name="l00046"></a><a class="code" href="struct__LSM__DataArrays.html#o5">00046</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o5">phi_prev</a>;  
00047    
00048   <span class="comment">/* extra storage for application specific purposes */</span>
<a name="l00049"></a><a class="code" href="struct__LSM__DataArrays.html#o6">00049</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o6">phi_extra</a>;  
00050   
00051   <span class="comment">/* mask is the level set function that defines restricted domains */</span>
<a name="l00052"></a><a class="code" href="struct__LSM__DataArrays.html#o7">00052</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o7">mask</a>;
00053 
00054    <span class="comment">/* LS Equation right hand side */</span>
<a name="l00055"></a><a class="code" href="struct__LSM__DataArrays.html#o8">00055</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o8">lse_rhs</a>; 
00056   
00057   <span class="comment">/* 1st order derivatives (upwinding and central) */</span>
<a name="l00058"></a><a class="code" href="struct__LSM__DataArrays.html#o9">00058</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o9">phi_x_plus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o10">phi_x_minus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o11">phi_x</a>;
<a name="l00059"></a><a class="code" href="struct__LSM__DataArrays.html#o12">00059</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o12">phi_y_plus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o13">phi_y_minus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o14">phi_y</a>;
<a name="l00060"></a><a class="code" href="struct__LSM__DataArrays.html#o15">00060</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o15">phi_z_plus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o16">phi_z_minus</a>, *<a class="code" href="struct__LSM__DataArrays.html#o17">phi_z</a>;
00061   
00062   <span class="comment">/* scratch space for divided differences */</span>
<a name="l00063"></a><a class="code" href="struct__LSM__DataArrays.html#o20">00063</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o18">D1</a>, *<a class="code" href="struct__LSM__DataArrays.html#o19">D2</a>, *<a class="code" href="struct__LSM__DataArrays.html#o20">D3</a>;
00064   
00065   <span class="comment">/* 2nd order derivatives */</span>
<a name="l00066"></a><a class="code" href="struct__LSM__DataArrays.html#o24">00066</a>   LSMLIB_REAL  *<a class="code" href="struct__LSM__DataArrays.html#o21">phi_xx</a>, *<a class="code" href="struct__LSM__DataArrays.html#o22">phi_yy</a>, *<a class="code" href="struct__LSM__DataArrays.html#o23">phi_xy</a>, *<a class="code" href="struct__LSM__DataArrays.html#o24">phi_zz</a>, *<a class="code" href="struct__LSM__DataArrays.html#o25">phi_xz</a>, *<a class="code" href="struct__LSM__DataArrays.html#o26">phi_yz</a>;
00067   
00068   <span class="comment">/* normal velocity */</span>
<a name="l00069"></a><a class="code" href="struct__LSM__DataArrays.html#o27">00069</a>   LSMLIB_REAL *<a class="code" href="struct__LSM__DataArrays.html#o27">normal_velocity</a>; 
00070   
00071    <span class="comment">/* external velocity field */</span>
<a name="l00072"></a><a class="code" href="struct__LSM__DataArrays.html#o28">00072</a>   LSMLIB_REAL *<a class="code" href="struct__LSM__DataArrays.html#o28">external_velocity_x</a>;
<a name="l00073"></a><a class="code" href="struct__LSM__DataArrays.html#o29">00073</a>   LSMLIB_REAL *<a class="code" href="struct__LSM__DataArrays.html#o29">external_velocity_y</a>;
<a name="l00074"></a><a class="code" href="struct__LSM__DataArrays.html#o30">00074</a>   LSMLIB_REAL *<a class="code" href="struct__LSM__DataArrays.html#o30">external_velocity_z</a>;
00075    
00076   <span class="comment">/* arrays defining narrow band position */</span>
<a name="l00077"></a><a class="code" href="struct__LSM__DataArrays.html#o31">00077</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct__LSM__DataArrays.html#o31">narrow_band</a>;
<a name="l00078"></a><a class="code" href="struct__LSM__DataArrays.html#o32">00078</a>   <span class="keywordtype">int</span>    <a class="code" href="struct__LSM__DataArrays.html#o32">num_index_pts</a>;
<a name="l00079"></a><a class="code" href="struct__LSM__DataArrays.html#o35">00079</a>   <span class="keywordtype">int</span>    *<a class="code" href="struct__LSM__DataArrays.html#o33">index_x</a>, *<a class="code" href="struct__LSM__DataArrays.html#o34">index_y</a>, *<a class="code" href="struct__LSM__DataArrays.html#o35">index_z</a>;
<a name="l00080"></a><a class="code" href="struct__LSM__DataArrays.html#o36">00080</a>   <span class="keywordtype">int</span>    <a class="code" href="struct__LSM__DataArrays.html#o36">n_lo</a>[10], <a class="code" href="struct__LSM__DataArrays.html#o37">n_hi</a>[10]; <span class="comment">//10 levels should be more than enough</span>
00081   
00082   <span class="comment">/* array for outer narrow band points storage */</span>
<a name="l00083"></a><a class="code" href="struct__LSM__DataArrays.html#o38">00083</a>   <span class="keywordtype">int</span>  *<a class="code" href="struct__LSM__DataArrays.html#o38">index_outer_pts</a>;
<a name="l00084"></a><a class="code" href="struct__LSM__DataArrays.html#o39">00084</a>   <span class="keywordtype">int</span>  <a class="code" href="struct__LSM__DataArrays.html#o39">num_alloc_index_outer_pts</a>;
<a name="l00085"></a><a class="code" href="struct__LSM__DataArrays.html#o40">00085</a>   <span class="keywordtype">int</span>  <a class="code" href="struct__LSM__DataArrays.html#o40">nlo_outer_plus</a>, <a class="code" href="struct__LSM__DataArrays.html#o41">nhi_outer_plus</a>;
<a name="l00086"></a><a class="code" href="struct__LSM__DataArrays.html#o42">00086</a>   <span class="keywordtype">int</span>  <a class="code" href="struct__LSM__DataArrays.html#o42">nlo_outer_minus</a>, <a class="code" href="struct__LSM__DataArrays.html#o43">nhi_outer_minus</a>;
00087 
00088   <span class="comment">/* special narrow band type of storage for solid voxels */</span>
<a name="l00089"></a><a class="code" href="struct__LSM__DataArrays.html#o44">00089</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct__LSM__DataArrays.html#o44">solid_narrow_band</a>;
<a name="l00090"></a><a class="code" href="struct__LSM__DataArrays.html#o45">00090</a>   <span class="keywordtype">int</span>    <a class="code" href="struct__LSM__DataArrays.html#o45">solid_num_index_pts</a>;
<a name="l00091"></a><a class="code" href="struct__LSM__DataArrays.html#o48">00091</a>   <span class="keywordtype">int</span>    *<a class="code" href="struct__LSM__DataArrays.html#o46">solid_index_x</a>, *<a class="code" href="struct__LSM__DataArrays.html#o47">solid_index_y</a>, *<a class="code" href="struct__LSM__DataArrays.html#o48">solid_index_z</a>;
<a name="l00092"></a><a class="code" href="struct__LSM__DataArrays.html#o49">00092</a>   <span class="keywordtype">int</span>    <a class="code" href="struct__LSM__DataArrays.html#o49">solid_n_lo</a>[10], <a class="code" href="struct__LSM__DataArrays.html#o50">solid_n_hi</a>[10];
00093   
<a name="l00094"></a><a class="code" href="struct__LSM__DataArrays.html#o53">00094</a>   LSMLIB_REAL *<a class="code" href="struct__LSM__DataArrays.html#o51">solid_normal_x</a>, *<a class="code" href="struct__LSM__DataArrays.html#o52">solid_normal_y</a>, *<a class="code" href="struct__LSM__DataArrays.html#o53">solid_normal_z</a>;
00095 
00096 }  <a class="code" href="struct__LSM__DataArrays.html">LSM_DataArrays</a>;
00097 
00098 
00108 <a class="code" href="struct__LSM__DataArrays.html">LSM_DataArrays</a> *<a class="code" href="lsm__data__arrays_8h.html#a1">allocateLSMDataArrays</a>(<span class="keywordtype">void</span>);
00109 
00110 
00111 
00112 
00134 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a2">allocateMemoryForLSMDataArrays</a>(
00135   <a class="code" href="struct__LSM__DataArrays.html">LSM_DataArrays</a> *lsm_data_arrays,
00136   <a class="code" href="struct__Grid.html">Grid</a> *grid);
00137 
00138 
00149 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a3">freeMemoryForLSMDataArrays</a>(<a class="code" href="struct__LSM__DataArrays.html">LSM_DataArrays</a> *lsm_arrays);
00150 
00151 
00163 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a4">destroyLSMDataArrays</a>(<a class="code" href="struct__LSM__DataArrays.html">LSM_DataArrays</a> *lsm_data_arrays);
00164 
00190 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a5">writeDataArray</a>(LSMLIB_REAL *data, <a class="code" href="struct__Grid.html">Grid</a> *grid, <span class="keywordtype">char</span> *file_name,
00191                     <span class="keywordtype">int</span> zip_status);
00192 
00218 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a6">writeDataArrayNoGrid</a>(LSMLIB_REAL *data, <span class="keywordtype">int</span> *n, <span class="keywordtype">char</span> *file_name,
00219                     <span class="keywordtype">int</span> zip_status);
00220                     
00221 
00244 LSMLIB_REAL *<a class="code" href="lsm__data__arrays_8h.html#a7">readDataArray</a>(<span class="keywordtype">int</span> *grid_dims, <span class="keywordtype">char</span> *file_name);
00245 
00246 
00268 <span class="keywordtype">void</span> <a class="code" href="lsm__data__arrays_8h.html#a8">writeDataArray1d</a>(LSMLIB_REAL *data, <span class="keywordtype">int</span> num_gridpts, <span class="keywordtype">char</span> *file_name,
00269                       <span class="keywordtype">int</span>  zip_status);
00270 
00271 
00291 LSMLIB_REAL *<a class="code" href="lsm__data__arrays_8h.html#a9">readDataArray1d</a>(<span class="keywordtype">int</span> *num_elements, <span class="keywordtype">char</span> *file_name);
00292 
00293 
00294 <span class="preprocessor">#ifdef __cplusplus</span>
00295 <span class="preprocessor"></span>}
00296 <span class="preprocessor">#endif</span>
00297 <span class="preprocessor"></span>
00298 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun May 3 19:14:21 2009 for LSMLIB by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
